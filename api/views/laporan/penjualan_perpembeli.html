<link href="{{ css}}?t=512" rel="stylesheet" type="text/css"/>
<style type="text/css">

    table{
        /*display: table-cell;*/
        border-collapse: collapse;width: 100%;}
    td:empty::after{
        content: "\00a0";
        padding: 5px!important;
    }



    /*    .table-print {
            font-size: 7px;
        }*/


</style>
<div class="card-body" id="print"  style="border: 0.1pt solid black">
    <div align="left">
        <div class="row">
            <div class="col-md-12">
                <br/>
                <center class="header-smaller">
                    <h2 class="header-laporan header-smaller">{{data.lokasi}}</h2>
                    <h2 class="header-laporan header-smaller">LAPORAN BUKU PENJUALAN</h2>

                    Periode : {{data.tgl_mulai}} Sampai {{data.tgl_selesai}}

                    </br>
                </center>
                <hr/>
            </div>
        </div>
        <div class="table-responsive">
            <table border="1" style="border-collapse: collapse;">
                <thead>
                    <tr>
                        {% if data.header.no == true %}
                        <th >
                            No
                        </th>
                        {%endif%}
                        {% if data.header.tanggal == true %}
                        <th >
                            Tanggal
                        </th>
                        {%endif%}

                        {% if data.header.tanggal_faktur_pajak == true %}
                        <th ng-show="header.tanggal_faktur_pajak">
                            Tanggal Faktur Pajak
                        </th>
                        {%endif%}

                        {% if data.header.tanggal_penyerahan == true %}
                        <th ng-show="header.tanggal_penyerahan">
                            Tanggal Penyerahan
                        </th>
                        {%endif%}

                        {% if data.header.no_surat_jalan == true %}
                        <th ng-show="header.no_surat_jalan" style="width:35px">
                            No. Surat Jalan
                        </th>
                        {%endif%}

                        {% if data.header.no_nota == true %}
                        <th ng-show="header.no_nota">
                            No.Nota
                        </th>
                        {%endif%}

                        {% if data.header.no_faktur == true %}
                        <th ng-show="header.no_faktur" style="width: 85px">
                            No. Faktur
                        </th>
                        {%endif%}
                        {% if data.header.no_invoice == true %}
                        <th ng-show="header.no_faktur">
                            No. Invoice
                        </th>
                        {%endif%}

                        {% if data.header.pembeli == true %}
                        <th ng-show="header.pembeli">
                            Pembeli
                        </th>
                        {%endif%}

                        {% if data.header.npwp == true %}
                        <th ng-show="header.npwp" style="width: 85px">
                            NPWP

                        </th>
                        {%endif%}

                        {% if data.header.barang == true %}
                        <th ng-show="header.barang">
                            Nama Barang
                        </th>
                        {%endif%}

                        {% if data.header.kwt == true %}
                        <th ng-show="header.kwt" >
                            KWT
                        </th>
                        {%endif%}

                        {% if data.header.harga_satuan == true %}
                        <th ng-show="header.harga_satuan">
                            Harga Satuan
                        </th>
                        {%endif%}

                        {% if data.header.nilai == true %}
                        <th ng-show="header.nilai">
                            Nilai
                        </th>
                        {%endif%}

                        {% if data.header.dpp == true %}
                        <th ng-show="header.dpp">
                            DPP
                        </th>
                        {%endif%}

                        {% if data.header.ppn == true %}
                        <th ng-show="header.ppn">
                            PPN
                        </th>
                        {%endif%}

                        {% if data.header.jumlah == true %}
                        <th ng-show="header.jumlah">
                            Jumlah
                        </th>
                        {%endif%}
                        {% if data.header.alamat == true %}
                        <th ng-show="header.alamat">
                            Alamat
                        </th>
                        {%endif%}
                        {% if data.header.alamat == false %}
                        <th ng-show="!header.alamat">
                            Paraf
                        </th>
                        {%endif%}

                        <!-- {% if data.header.tanggal_bayar == true %}
                        <th ng-show="header.tanggal_bayar">

                            Tanggal Bayar
                        </th>
                        {%endif%} -->
                    </tr>

                </thead>
                <tbody>
                    {%for key, v in data.total%}
                    <tr>
                        {% if data.header.dpp == true  %}
                        <td align="right" colspan="{{data.panjang_header}}" >
                        </td>
                        {%endif%}

                        {% if data.header.dpp == true %}
                        <td align="right" ng-show="header.dpp">
                            {{ v.DPP | number_format(2, '.', ',')}}{{',00'}}
                        </td>
                        {%endif%}

                        {% if data.header.ppn == true %}
                        <td align="right" ng-show="header.ppn">
                            {{ v.PPN | number_format(2, '.', ',')}}{{',00'}}
                        </td> {%endif%}

                        {% if data.header.jumlah == true %}
                        <td align="right" ng-show="header.jumlah">
                            {{v.DPP_PPN| number_format(2, '.', ',')}}{{',00'}}
                        </td>
                        {%endif%}

                        {% if data.header.paraf == true %}
                        <td align="right" ng-show="header.tanggal_bayar">

                        </td>
                        {%endif%}
                        {% if data.header.alamat == true %}
                        <td align="right" ng-show="header.tanggal_bayar">

                        </td>
                        {%endif%}

                    </tr>
                    {%endfor%}
                </tbody>
                <tbody ng-repeat="val in data">
                    {%for key, val in data.data %}
                    {%for kk, vv in val %}
                    {%for key, v in vv.data %}
                    <tr ng-repeat="v in val.data">
                        {% if data.header.no == true %}
                        <td align="center" ng-show="header.no">
                            {{loop.index == 1 ? vv.no : ''}}
                        </td>
                        {%endif%}
                        {% if data.header.tanggal == true %}
                        <td align="center" ng-show="header.tanggal">
                            {{v.tanggal}}
                        </td>
                        {%endif%}

                        {% if data.header.tanggal_faktur_pajak == true %}
                        <td align="center" ng-show="header.tanggal_faktur_pajak">

                        </td>
                        {%endif%}

                        {% if data.header.tanggal_penyerahan == true %}
                        <td ng-show="header.tanggal_penyerahan">

                        </td>
                        {%endif%}

                        {% if data.header.no_surat_jalan == true %}
                        <td ng-show="header.no_surat_jalan">
                            {{v.no_surat_jalan}}
                        </td>
                        {%endif%}

                        {% if data.header.no_nota == true %}
                        <td ng-show="header.no_nota">

                        </td>
                        {%endif%}

                        {% if data.header.no_faktur == true %}
                        <td ng-show="header.no_faktur">
                            {{v.nomor_faktur}}
                        </td>
                        {%endif%}
                        {% if data.header.no_invoice == true %}
                        <td ng-show="header.no_invoice">
                            {{v.no_invoice}}
                        </td>
                        {%endif%}

                        {% if data.header.pembeli == true %}
                        <td ng-show="header.pembeli">
                            {{v.namaCustomer}}
                        </td>
                        {%endif%}

                        {% if data.header.npwp == true %}
                        <td ng-show="header.npwp">
                            {{not v.npwp ? '00.000.000.0-000.000' : v.npwp}}
                        </td>
                        {%endif%}

                        {% if data.header.barang == true %}
                        <td ng-show="header.barang">
                            {{v.namaBarang}}
                        </td>
                        {%endif%}

                        {% if data.header.kwt == true %}
                        <td ng-show="header.kwt" align="right">
                            {{v.jumlah}}
                        </td>
                        {%endif%}

                        {% if data.header.harga_satuan == true %}
                        <td align="right" ng-show="header.harga_satuan">
                            {{v.harga_satuan| number_format(2, '.', ',') }}
                        </td>
                        {%endif%}

                        {% if data.header.nilai == true %}
                        <td align="right" ng-show="header.nilai">
                            {{v.nilai| number_format(2, '.', ',')}}
                        </td>
                        {%endif%}

                        {% if data.header.dpp == true %}
                        <td align="right">
                            {% if v.panjang == vv.data|length  %}
                            {{  v.DPP | number_format(2, '.', ',')  }}
                            {% else %}

                            {% endif %}
                        </td>
                        {%endif%}

                        {% if data.header.ppn == true %}
                        <td align="right">
                            {% if v.panjang == vv.data|length  %}
                            {{  v.PPN | number_format(2, '.', ',') }}
                            {% else %}

                            {% endif %}
                        </td>
                        {%endif%}

                        {% if data.header.jumlah == true %}
                        <td align="right">
                            {% if v.panjang == vv.data|length  %}
                            {{v.DPP_PPN| number_format(2, '.', ',') }}
                            {% else %}
                            {% endif %}

                        </td>
                        {%endif%}
                        {% if data.header.alamat == true %}
                        <td ng-show="header.alamat">
                            {{v.alamat}}
                        </td>
                        {%endif%} 
                        {% if data.header.paraf == true%}
                        <td ng-show="!header.alamat">
                            {{''}}
                        </td>
                        {%endif%} 
                        <!--                         {% if data.header.tanggal_bayar == true %}
                                                <td ng-show="header.tanggal_bayar">
                        
                                                </td>
                                                {%endif%} -->


                    </tr>
                    {%endfor%}
                    <tr>
                        <td align="right" class="empty" colspan="{{data.panjang_pembatas}}" >
                        </td>
                    </tr>
                    {%endfor%}
                    {%endfor%}
                </tbody>
            </table>
        </div>
    </div>
</div>
